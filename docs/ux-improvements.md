# Часть 4 — Оценка UX и улучшения

Ниже 3 улучшения формы с акцентом на **удобство (UX)**, **предотвращение ошибок** и **качество продукта**. 
Каждое — кратко: что делаем, зачем и как понять, что готово.

---
## 1) Серверная фильтрация дат/слотов + метка часового пояса
**UX:** показывать **только доступные** даты в окне `D_now … D_now+30` и слоты **только в будущем** для `D_now`.
Отобразить подсказку:  
«Доступно с _DD.MM_ по _DD.MM_, время ресторана: _Europe/…_».

**Предотвращение ошибок:** нельзя выбрать прошедший слот или дату вне окна. Фронт получает с бэка список доступных 
слотов для выбранной даты.

**Качество продукта:** меньше несостоятельных броней, согласованность фронт - бэк.

**Готово, если (DoD: Definition of Done):**
- Дни вне окна недоступны в календаре.
- Для `D_now` прошедшие слоты скрыты.
- Метка TZ видна рядом со списком времени.
- На бэке дубль-валидация времени (прошедшие и >30 дней отклоняются).

---
## 2) Инлайн-валидация и управление вводом (маски, счётчики)
**UX:** моментальная обратная связь без сабмита:
- «Имя»: подсказка по допустимым символам, **2–50**; обрезка пробелов по краям.
- «Гости»: степпер **1…10** (кнопки −/+) и сообщение «От 1 до 10».
- «Комментарий»: **live-счётчик 0/250**, считает Unicode-символы (эмодзи не «ломают» лимит).

**Предотвращение ошибок:** кнопка «Забронировать» активна **только** при полной валидности. 
Ошибки указываются возле полей; фокус переносится к первому ошибочному. Доступность: `aria-invalid`, `aria-describedby`.

**Качество продукта:** чище данные на входе, меньше лишних запросов к серверу.

**Готово, если (DoD):**
- Кнопка disabled при невалидных полях.
- Счётчик корректно останавливается на 250 символах (в т.ч. с эмодзи).
- Пустое/пробельное имя не проходит ни на фронте, ни на бэке.
- Ошибки читаются скринридером (ARIA).

---
## 3) Контакт + транзакционная проверка доступности (anti-overbooking)
**UX:** одно обязательное поле контакта (телефон **или** e-mail) + понятные сообщения об отказе слота 
(«Слот уже занят, выберите другое время»).

**Предотвращение ошибок:** на бэке — атомарная проверка доступности на момент сабмита (без гонок), 
защита от двойного клика: `Idempotency-Key`/rate-limit.

**Качество продукта:** подтверждение по SMS/e-mail, возможность поиска/отмены брони по контакту, меньше конфликтов в зале.

**Готово, если (DoD):**
- При параллельных запросах на один слот: один **201**, остальные **409 Conflict**.
- Контакт проходит формат-валидацию; хранится в заказе.
- Письмо/СМС-подтверждение (если предусмотрено) отправляется с деталями брони.
