# Часть 2 — Тест-кейсы (EP + BVA + Decision Table)

> База: все вычисления дат/времени ведутся по **TZ ресторана** (серверное время).
> Обозначения:
> - `D_now` — текущая дата по серверу.
> - `D_valid_future` = `D_now + 1 день` (≤ 30 дней вперёд).
> - `D_out_of_window` = `D_now + 31 день` (> 30 дней).
> - `T_future_slot` — первый будущий слот в день `D_now`.
> - `T_past_slot` — прошедший слот в день `D_now`.

---
## TC-1 (POS, EP: Equivalence Partitioning): Успешная бронь валидной формы
**Предусловия:** Система доступна.
**Данные:**
- Имя: `Иван Петров`
- Гости: `3`
- Дата: `D_valid_future`
- Время: `18:00`
- Комментарий: `Window table` (≤250)

**Шаги:**
1) Открыть форму бронирования.
2) Заполнить поля указанными данными.
3) Нажать "Забронировать".

**Ожидаемый результат:**
- Кнопка активна до нажатия.  
- Возврат успешного ответа «Бронь создана».  
- Запись брони появляется в системе.

---
## TC-2 (POS, BVA: Boundary Value Analysis): Границы количества гостей
**Предусловия:** Система доступна.  
**Прогоны:**  
A) `гости=1`; дата: `D_valid_future`; время: `12:00`; имя валидно; комментарий пустой  
B) `гости=10`; дата: `D_valid_future`; время: `12:00`; имя валидно; комментарий пустой

**Шаги (для каждого прогона):**  
1) Заполнить форму валидными данными.  
2) Нажать «Забронировать».

**Ожидаемый результат:**  
- В обоих прогонах бронь создаётся успешно.

---
## TC-3 (NEG, BVA): Недопустимое количество гостей (ниже минимума)
**Предусловия:** Система доступна.  
**Данные:**  
- Имя: валидное  
- Гости: `0`  
- Дата: `D_valid_future`  
- Время: `12:30`  
- Комментарий: пустой

**Шаги:**  
1) Заполнить форму указанными данными.  
2) Попытаться нажать «Забронировать`.

**Ожидаемый результат:**  
- Поле «Гости» с ошибкой (диапазон 1–10).  
- Кнопка неактивна **или** отправка блокируется; бронь не создаётся.

---
## TC-4 (NEG, BVA): Дата за пределом окна (> 30 дней вперёд)
**Предусловия:** Система доступна.  
**Данные:**  
- Имя: валидное  
- Гости: `2`  
- Дата: `D_out_of_window`  
- Время: `13:00`  
- Комментарий: пустой

**Шаги:**  
1) Выбрать дату `D_out_of_window`.  
2) Заполнить остальные поля валидно.  
3) Нажать «Забронировать».

**Ожидаемый результат:**  
- Ошибка валидации даты / блокировка отправки.  
- Бронь не создаётся.

---
## TC-5 (Logic, Decision Table): Активность кнопки «Забронировать»
**Цель:** Кнопка активна **только** при полной валидности обязательных полей и выборе будущего слота.

| Сценарий | Имя     | Гости                    | Дата/Время                                                           | Ожидание кнопки |
|----------|---------|--------------------------|----------------------------------------------------------------------|-----------------|
| A        | пусто   | валидно                  | Дата: `D_valid_future`, Время: валидно                               | **Disabled**    |
| B        | валидно | валидно                  | Дата: `D_now`, Время: `T_past_slot`                                  | **Disabled**    |
| C        | валидно | вне диапазона (0 или 11) | Дата: `D_valid_future`, Время: валидно                               | **Disabled**    |
| D        | валидно | валидно                  | Дата: `D_out_of_window`, Время: валидно                              | **Disabled**    |
| E        | валидно | валидно                  | Дата: `D_now`, Время: `T_future_slot` **или** Дата: `D_valid_future` | **Enabled**     |

**Шаги (для каждой строки):**  
1) Проставить значения согласно сценарию.  
2) Наблюдать состояние кнопки до сабмита.  
3) Если Enabled — выполнить сабмит и ожидать успех.

**Ожидаемый результат:**  
- Состояние кнопки соответствует таблице; сабмит возможен только в сценарии E и завершается успехом.
